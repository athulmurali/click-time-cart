(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(48)},35:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),i=(a(35),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function o(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(37),a(39);var s=a(12),m=a(28),u=a(25),d=a.n(u),f=a(26),p=a(29),g=a(6),E=a(13),v=["Purchase all the different DVDs, and get 10% discount on those items","Purchase all the different BLU-RAY, and get 15% discount on those items","Get a 5% bulk discount  on the total in addition to previous discounts for purchase of  100 items or more "],y=[{id:0,title:"Star Wars Episode IV",price:20,currency:"USD",type:"DVD",quantity:0,details:"Luke Skywalker joins forces with a Jedi Knight, a cocky pilot, a Wookiee and two droids to save the galaxy.",coverImgUrl:"https://images-na.ssl-images-amazon.com/images/I/81ae8A9aEYL._SL1500_.jpg",discount:0},{id:1,title:"Star Wars Episode IV",price:25,currency:"USD",type:"BLU-RAY",quantity:0,details:"Luke Skywalker joins forces with a Jedi Knight, a cocky pilot, a Wookiee and two droids to save the galaxy.",coverImgUrl:"https://images-na.ssl-images-amazon.com/images/I/81ae8A9aEYL._SL1500_.jpg",discount:0},{id:2,title:"Star Wars Episode V",price:20,currency:"USD",type:"DVD",quantity:0,details:"After the rebels are brutally overpowered by the Empire on the ice planet Hoth, Luke Skywalker begins Jedi training with Yoda",coverImgUrl:"https://images-na.ssl-images-amazon.com/images/I/81pL7ZGEa5L._SX355_.jpg",discount:0},{id:3,title:"Star Wars Episode V",price:25,currency:"USD",type:"BLU-RAY",quantity:0,details:"After the rebels are brutally overpowered by the Empire on the ice planet Hoth, Luke Skywalker begins Jedi training with Yoda",coverImgUrl:"https://images-na.ssl-images-amazon.com/images/I/81pL7ZGEa5L._SX355_.jpg",discount:0},{id:4,title:"Star Wars Episode VI",price:20,currency:"USD",type:"DVD",quantity:0,details:"After a daring mission to rescue Han Solo from Jabba the Hutt, the rebels dispatch to Endor to destroy a more powerful Death Star.",coverImgUrl:"https://d27t0qkxhe4r68.cloudfront.net/t_900/A10301A0000911867A.jpg?1435761144",discount:0},{id:5,title:"Star Wars Episode VI",price:25,currency:"USD",type:"BLU-RAY",quantity:0,details:"After a daring mission to rescue Han Solo from Jabba the Hutt, the rebels dispatch to Endor to destroy a more powerful Death Star.",coverImgUrl:"https://d27t0qkxhe4r68.cloudfront.net/t_900/A10301A0000911867A.jpg?1435761144",discount:0}],b=function(e){return e.map(function(e){return e.quantity}).reduce(function(e,t){return e+t},0)},N=function(e){var t=e.reduce(function(e,t){return e+(a=t,Number.parseFloat((a.quantity*(a.price*(1-a.discount))).toFixed(0)));var a},0);return Number.parseFloat(t).toFixed(0)},h=function(e){var t=e.reduce(function(e,t){return e+t.price*t.quantity},0);return Number.parseFloat(t).toFixed(0)},I=function(e){var t=e.reduce(function(e,t){return e+(a=t,Number.parseFloat((a.quantity*(a.price*a.discount)).toFixed(0)));var a},0);return Number.parseFloat(t).toFixed(0)},L=function(e,t){return y.filter(function(e){return e.type===t})},w=function(){return L()},A=function(){return L()},D=function(e){var t=N(e);return b(e)>=100?.05*t:0},k=w().length,x=A().length,j={ItemListArray:[],fetching:!1,error:!1},_=function(e){var t=e.filter(function(e){return"DVD"===e.type&&e.quantity>0}),a=e.filter(function(e){return"BLU-RAY"===e.type&&e.quantity>0});console.log("currentDVDList : ",t),console.log("currentBluList : ",a);var n=new Set(t.map(function(e){return e.id})),r=new Set(a.map(function(e){return e.id}));console.log("currentDVDIdSet : "),console.log(n),console.log("currentBLuIdSet : "),console.log(r);var l=n.size,c=r.size;return console.log("countCurrentDVDIdSet : "),console.log(l),console.log("countCurrentBluRayIdSet : "),console.log(c),e=e.map(function(e){return"BLU-RAY"===e.type&&(e.discount=c===k?.15:0),"DVD"===e.type&&(l===x?(console.log("updating discount for dvd"),e.discount=.1):e.discount=0),e})},C=function(e,t,a){return e[t].quantity+=a,_(e),Object(E.a)(e)},O=function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"INC_DEC_QTY":return Object(g.a)({},n,{ItemListArray:C(n.ItemListArray,r.payload.array_index,r.payload.incOrDec)});case"REPLACE_QTY":return Object(g.a)({},n,{error:!1,ItemListArray:(e=n.ItemListArray,t=r.payload.array_index,a=r.payload.newQty,e[t].quantity=parseInt(a),e=_(e),Object(E.a)(e))});case"DELETE_ITEM_BY_INDEX":var l=Object(E.a)(function(e,t){var a=e.filter(function(e,a){return a!==t});return _(a)}(n.ItemListArray,r.payload.itemIndex));return Object(g.a)({},n,{ItemListArray:l});case"ADD_ITEM_TO_CART":var c=S(n.ItemListArray,r.payload.item);if(c>-1){var i=C(n.ItemListArray,c,1);return Object(g.a)({},n,{ItemListArray:i})}r.payload.item.quantity=1;var o=n.ItemListArray;return o.push(r.payload.item),o=_(o),Object(g.a)({},n,{ItemListArray:Object(E.a)(o)});case"RESET_CART":return Object(g.a)({},n,{ItemListArray:[]});default:return Object(g.a)({},j)}},S=function(e,t){return e.findIndex(function(e){return t.id===e.id})},T=a(50),R=a(51),q=a(52),F=a(4),Y=Object(F.a)(function(){return null},function(e){return{updateItemQty:function(t,a){e({type:"REPLACE_QTY",payload:{array_index:t,newQty:a}})},incOrDecQty:function(t,a){e({type:"INC_DEC_QTY",payload:{array_index:t,incOrDec:a}})},deleteItem:function(t){e({type:"DELETE_ITEM_BY_INDEX",payload:{itemIndex:t}})}}})(function(e){return console.log(e),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 pull-left"},e.title),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},e.type),r.a.createElement("div",{className:"col-lg-2"},"$"+e.price),r.a.createElement("div",{className:"col-lg-2  float-right"},r.a.createElement("button",{className:"font-weight-bold btn btn-outline-danger rounded ",disabled:e.quantity<=0,onClick:function(){e.incOrDecQty(e.index,-1)}},"-"),r.a.createElement("input",{className:"input-group-sm",value:e.quantity,style:{width:50,justifyContent:"center"},onChange:function(t){var a=parseInt(t.target.value);isNaN(a)?e.updateItemQty(e.index,0):e.updateItemQty(e.index,a)}}),r.a.createElement("button",{className:"btn btn-outline-success rounded",onClick:function(){e.incOrDecQty(e.index,1)}},"+")),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"$"+e.price*e.quantity),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"-$"+(e.discount*e.price*e.quantity).toFixed(2)),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"$"+(e.quantity*e.price*(1-e.discount)).toFixed(2)),r.a.createElement("div",{className:"col-lg-1"},r.a.createElement("button",{className:"font-weight-bold btn btn-danger rounded ",onClick:function(){e.deleteItem(e.index)}},"X"))))}),U=function(e){return r.a.createElement("div",null,r.a.createElement("li",{className:"list-group-item border-secondary border-dark"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 pull-left"},"Total"),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"}),r.a.createElement("div",{className:"col-lg-2"}),r.a.createElement("div",{className:"col-lg-2  float-right"},e.itemsCount),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"$"+e.itemListTotalCost),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"-$"+e.itemListDiscount),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"$"+e.totalPrice),r.a.createElement("div",{className:"col-lg-1"}))))},Q=Object(F.a)(function(){return null},function(e){return{updateItemQty:function(t,a){e({type:"REPLACE_QTY",payload:{array_index:t,newQty:a}})},incOrDecQty:function(t,a){e({type:"INC_DEC_QTY",payload:{array_index:t,incOrDec:a}})},deleteItem:function(t){e({type:"DELETE_ITEM_BY_INDEX",payload:{itemIndex:t}})}}})(function(){return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 pull-left"},r.a.createElement("b",null,"Title")),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},r.a.createElement("b",null,"Type")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("b",null,"Price")),r.a.createElement("div",{className:"col-lg-2  float-right"},r.a.createElement("b",null,"Quantity")),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},r.a.createElement("b",null,"ItemPrice")),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},r.a.createElement("b",null,"Discount")),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},r.a.createElement("b",null,"Net Price")),r.a.createElement("div",{className:"col-lg-1"},r.a.createElement("b",null,"Remove"))))}),B=function(e){return r.a.createElement("li",{className:"list-group-item border-secondary border-dark"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 pull-left"},"Bulk Discount "),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"---"),r.a.createElement("div",{className:"col-lg-2"},"---"),r.a.createElement("div",{className:"col-lg-2  float-right"},"-----"),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"---"),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"-$"+Number.parseFloat(e.bulkDiscountAmount).toFixed(2)),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},""),r.a.createElement("div",{className:"col-lg-1"},"--")))},V=function(e){return r.a.createElement("div",null,r.a.createElement("li",{className:"list-group-item border-secondary border-dark"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 pull-left"},"Final Amount"),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"---"),r.a.createElement("div",{className:"col-lg-2"},"---"),r.a.createElement("div",{className:"col-lg-2  float-right"},"---"),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"---"),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},"-$"+e.totalDiscounts),r.a.createElement("div",{className:" col-lg-1 float-left badge-pill"},r.a.createElement("b",null," ","$"+e.amountAfterBulkDiscount)),r.a.createElement("div",{className:"col-lg-1"},"---"))))},W=Object(F.a)(function(e){return e.ItemsListReducer},function(e){return{}})(function(e){var t=I(e.ItemListArray),a=h(e.ItemListArray),n=D(e.ItemListArray),l=parseFloat(t)+parseFloat(n),c=parseFloat(N(e.ItemListArray)),i=a-l;return r.a.createElement("ul",{className:"list-group"},r.a.createElement(Q,null),e.ItemListArray.map(function(e,t){return r.a.createElement(Y,{index:t,quantity:e.quantity,type:e.type,price:e.price,title:e.title,discount:e.discount,currency:e.currency})}),r.a.createElement(U,{itemListTotalCost:a,totalPrice:c,itemsCount:b(e.ItemListArray),itemListDiscount:t}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(B,{bulkDiscountAmount:D(e.ItemListArray)}),r.a.createElement(V,{totalPriceAfterItemListDiscount:c,totalDiscounts:l,amountAfterBulkDiscount:i}))}),P=a(9),$=function(){return r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h3",null," No items added! Your shopping cart is empty"))},M=Object(F.a)(function(e){return e.ItemsListReducer},function(e){return{resetCart:function(){e({type:"RESET_CART"})}}})(function(e){var t=b(e.ItemListArray);return 0===e.ItemListArray.length?r.a.createElement($,null):r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light bg-light justify-content-between"},r.a.createElement("a",{className:"navbar-brand justify-content-start"},"Review order"),r.a.createElement("form",{className:"form-inline justify-content-center"},r.a.createElement(P.a,{to:"/placeOrder"},r.a.createElement("button",{disabled:t<1,className:"btn btn-outline-success my-2 my-sm-0",type:"submit",onClick:function(){e.resetCart()}},"Confirm")),r.a.createElement("button",{className:"btn btn-outline-danger my-2 my-sm-0",onClick:function(){e.resetCart()}},"Clear"))),r.a.createElement(W,null))}),H=Object(F.a)(function(){},function(e){return{addItemToCart:function(t){e({type:"ADD_ITEM_TO_CART",payload:{item:t}})}}})(function(e){return r.a.createElement("div",{class:"card ",style:{minWidth:40}},r.a.createElement("img",{class:"card-img-top",src:e.item.coverImgUrl,alt:"Card image cap",style:{maxHeight:150}}),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{className:"row px-1 float-right"},r.a.createElement("text",{className:"badge"}," ","$"+e.item.price)),r.a.createElement("h5",{class:"card-title"},e.item.title),r.a.createElement("p",{class:"card-text"},r.a.createElement("label",{className:"text-muted"},e.item.type)),r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"btn btn-block btn-warning",onClick:function(){e.addItemToCart(e.item)}}," Buy"))))}),J=Object(F.a)(function(e){return e.InventoryReducer},function(e){return{}})(function(e){return console.log(w()),console.log(A()),r.a.createElement("div",{class:"card-deck"},e.ItemListArray.map(function(e,t){return r.a.createElement(H,{item:e})}))}),z=Object(F.a)(function(e){return e.ItemsListReducer},function(e){return{}})(function(e){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light bg-light justify-content-between"},r.a.createElement("a",{className:"navbar-brand"},"Movie DVD Catalogue"),r.a.createElement("form",{className:"form-inline"},r.a.createElement("i",{className:"px-2 fa fa-dollar"}),r.a.createElement("text",null," ",function(e){var t=h(e),a=I(e),n=D(e);return t-(parseFloat(a)+parseFloat(n))}(e.ItemListArray)),r.a.createElement("i",{className:" px-1 fa fa-cart-plus fa-2x"}),r.a.createElement("text",{className:"mx-1 badge-pill  badge rounded"},b(e.ItemListArray)),r.a.createElement(P.a,{to:"/reviewOrder"},r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Review order"))))),r.a.createElement(J,null))}),X=function(){return r.a.createElement("div",{className:"container-fluid  justify-content-center align-items-center  text-center"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"justify-content-center text-center"},r.a.createElement("b",null,"Your order has been placed successfully!"))))},G=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Click Time "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(P.a,{to:"/itemCatalogue"},r.a.createElement("a",{className:"nav-item nav-link active",href:"#"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement(P.a,{to:"/offers"},r.a.createElement("a",{className:"nav-item nav-link",href:"#"},"Offers")),r.a.createElement("a",{className:"nav-item nav-link",href:"#"},"Features"),r.a.createElement("a",{className:"nav-item nav-link disabled",href:"#"},"Premium"))))},K=function(e){return r.a.createElement("div",{className:"container-fluid"},v.map(function(e,t){return r.a.createElement("div",{className:"row jumbotron justify-content-start"},e)}))},Z=function(e){return r.a.createElement("div",null,r.a.createElement(T.a,{basename:e.basename},r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(R.a,null,r.a.createElement(q.a,{exact:!0,path:"/",component:z}),r.a.createElement(q.a,{exact:!0,path:"/offers",component:K}),r.a.createElement(q.a,{exact:!0,path:"/itemCatalogue",component:z}),r.a.createElement(q.a,{exact:!0,path:"/reviewOrder",component:M}),r.a.createElement(q.a,{exact:!0,path:"/placeOrder",component:X})))))};a(46);console.log(y);var ee={ItemListArray:y},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee;arguments.length>1&&arguments[1];return Object(g.a)({},e)},ae=Object(s.c)({ItemsListReducer:O,InventoryReducer:te}),ne=Object(s.a)(Object(p.a)(),f.a,d.a),re=Object(s.d)(ae,ne);console.log(""),c.a.render(r.a.createElement(m.a,{store:re},r.a.createElement(Z,{basename:""})),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");i?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(e)})}}()}},[[30,2,1]]]);
//# sourceMappingURL=main.80767db0.chunk.js.map